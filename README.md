# Django –Ω–∞ Kubernetes –∑ AWS## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](./docs/QUICKSTART.md) - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- [üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É](./docs/ARCHITECTURE.md) - –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–∏—Å—Ç–µ–º–∏
- [üõ†Ô∏è –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º](./docs/TROUBLESHOOTING.md) - –≥—ñ–¥ –ø–æ troubleshooting —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—Ü—ñ, RDS —Ç–∞ ECR

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Django –¥–æ–¥–∞—Ç–∫—É –≤ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä—ñ –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º:
- **AWS EKS** - –∫–µ—Ä–æ–≤–∞–Ω–∏–π Kubernetes –∫–ª–∞—Å—Ç–µ—Ä
- **AWS RDS** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **AWS ECR** - —Ä–µ—î—Å—Ç—Ä Docker –æ–±—Ä–∞–∑—ñ–≤
- **Terraform** - —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —è–∫ –∫–æ–¥
- **Helm** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è Kubernetes —Ä–µ—Å—É—Ä—Å–∞–º–∏

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   LoadBalancer  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  EKS Cluster     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   RDS PostgreSQL‚îÇ
‚îÇ   (AWS ELB)     ‚îÇ    ‚îÇ  (2 Worker Nodes)‚îÇ    ‚îÇ   (–ö–µ—Ä–æ–≤–∞–Ω–∞ –ë–î) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Django Pods ‚îÇ
                       ‚îÇ  (2 Replicas)‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  ECR Registry‚îÇ
                       ‚îÇ (Docker Image)‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ÔøΩ –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- [üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç](./docs/QUICKSTART.md) - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- [üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É](./docs/ARCHITECTURE.md) - –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Å–∏—Å—Ç–µ–º–∏

## ÔøΩüìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

### –ù–µ–æ–±—Ö—ñ–¥–Ω–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è:
- **Terraform** >= 1.0
- **AWS CLI** >= 2.0
- **Docker** >= 20.0
- **kubectl** >= 1.25
- **Helm** >= 3.8
- **Git**

### AWS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –∫—Ä–µ–¥–µ–Ω—à–∞–ª—ñ–≤
aws configure
# –∞–±–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
export AWS_ACCESS_KEY_ID="–≤–∞—à-–∫–ª—é—á"
export AWS_SECRET_ACCESS_KEY="–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω–∏–π-–∫–ª—é—á"
export AWS_DEFAULT_REGION="us-east-1"
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone <repository-url>
cd devops/akolvakh/l-7
```

### 2. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
```bash
# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform
terraform init

# –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
terraform plan

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
terraform apply
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è kubectl
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
./scripts/setup-kubectl.sh

# –ê–±–æ –≤—Ä—É—á–Ω—É
aws eks update-kubeconfig --region us-east-1 --name eks-cluster-lesson-7
```

### 4. –ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Docker –æ–±—Ä–∞–∑—É
```bash
# –ó–±—ñ—Ä–∫–∞ –¥–ª—è AMD64 –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
./scripts/build-and-push.sh

# –ê–±–æ –∑ —Ç–µ–≥–æ–º –≤–µ—Ä—Å—ñ—ó
./scripts/build-and-push.sh v1.4
```

### 5. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
```bash
# –ü–æ–≤–Ω–∏–π –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
./scripts/deploy-app.sh

# –ê–±–æ –ø–æ–∫—Ä–æ–∫–æ–≤–æ
helm upgrade --install django-app ./charts/django-app
```

### 6. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–∞–∑–≤–∏ –ø–æ–¥—É
kubectl get pods

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
kubectl exec -it <pod-name> -- python manage.py createsuperuser
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
l-7/
‚îú‚îÄ‚îÄ environments/dev/           # Terraform –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ main.tf                # –ì–æ–ª–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf           # –ó–º—ñ–Ω–Ω—ñ
‚îÇ   ‚îú‚îÄ‚îÄ outputs.tf             # –í–∏—Ö–æ–¥–∏
‚îÇ   ‚îî‚îÄ‚îÄ backend.tf             # –ë–µ–∫–µ–Ω–¥ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ modules/                   # Terraform –º–æ–¥—É–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ vpc/                   # VPC –º–µ—Ä–µ–∂–∞
‚îÇ   ‚îú‚îÄ‚îÄ eks/                   # EKS –∫–ª–∞—Å—Ç–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ rds/                   # RDS –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ ecr/                   # ECR —Ä–µ—î—Å—Ç—Ä
‚îú‚îÄ‚îÄ django/                    # Django –¥–æ–¥–∞—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ app/                   # Django –ø—Ä–æ–µ–∫—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile            # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt       # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ charts/django-app/         # Helm —á–∞—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ templates/            # Kubernetes —à–∞–±–ª–æ–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ values.yaml           # –ó–Ω–∞—á–µ–Ω–Ω—è Helm
‚îÇ   ‚îî‚îÄ‚îÄ Chart.yaml            # –ú–µ—Ç–∞–¥–∞–Ω—ñ —á–∞—Ä—Ç—É
‚îú‚îÄ‚îÄ scripts/                   # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ setup-kubectl.sh      # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è kubectl
‚îÇ   ‚îú‚îÄ‚îÄ build-and-push.sh     # –ó–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –æ–±—Ä–∞–∑—É
‚îÇ   ‚îî‚îÄ‚îÄ deploy-app.sh          # –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É
‚îî‚îÄ‚îÄ README.md                  # –¶–µ–π —Ñ–∞–π–ª
```

## ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Terraform –º–æ–¥—É–ª—ñ

#### VPC –º–æ–¥—É–ª—å
–°—Ç–≤–æ—Ä—é—î –º–µ—Ä–µ–∂–µ–≤—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- VPC –∑ CIDR 10.0.0.0/16
- 3 –ø—É–±–ª—ñ—á–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
- 3 –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
- Internet Gateway
- Route Tables

#### EKS –º–æ–¥—É–ª—å
–ù–∞–ª–∞—à—Ç–æ–≤—É—î Kubernetes –∫–ª–∞—Å—Ç–µ—Ä:
- EKS Control Plane
- Worker Node Group (2 –≤—É–∑–ª–∏ t3.medium)
- IAM —Ä–æ–ª—ñ —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏
- EBS CSI –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è storage
- Security Groups

#### RDS –º–æ–¥—É–ª—å
–°—Ç–≤–æ—Ä—é—î PostgreSQL –±–∞–∑—É –¥–∞–Ω–∏—Ö:
- RDS PostgreSQL 13
- Multi-AZ –¥–ª—è –≤–∏—Å–æ–∫–æ—ó –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- Automated backups
- Security Groups
- Subnet Groups

#### ECR –º–æ–¥—É–ª—å
–ù–∞–ª–∞—à—Ç–æ–≤—É—î Docker —Ä–µ—î—Å—Ç—Ä:
- Private ECR repository
- Lifecycle policies
- Access policies

### Helm —á–∞—Ä—Ç

#### –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
- **Deployment**: Django –ø–æ–¥–∏ –∑ –∞–≤—Ç–æ—Å–∫–µ–π–ª—ñ–Ω–≥–æ–º
- **Service**: LoadBalancer –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- **HPA**: Horizontal Pod Autoscaler
- **ConfigMap**: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—É
- **Secret**: –ß—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ (–ø–∞—Ä–æ–ª—ñ –ë–î)

#### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ values.yaml:
```yaml
replicaCount: 2                    # –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–ø–ª—ñ–∫
image:
  repository: <ecr-url>            # ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
  tag: "v1.3"                     # –¢–µ–≥ –æ–±—Ä–∞–∑—É
  pullPolicy: IfNotPresent        # –ü–æ–ª—ñ—Ç–∏–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

service:
  type: LoadBalancer              # –¢–∏–ø —Å–µ—Ä–≤—ñ—Å—É
  port: 80                        # –ó–æ–≤–Ω—ñ—à–Ω—ñ–π –ø–æ—Ä—Ç
  targetPort: 8000               # –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –ø–æ—Ä—Ç

resources:
  requests:
    cpu: 100m                     # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π CPU
    memory: 256Mi                 # –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å
  limits:
    cpu: 500m                     # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π CPU
    memory: 512Mi                 # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å

autoscaling:
  enabled: true                   # –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –∞–≤—Ç–æ—Å–∫–µ–π–ª—ñ–Ω–≥—É
  minReplicas: 2                  # –ú—ñ–Ω—ñ–º—É–º —Ä–µ–ø–ª—ñ–∫
  maxReplicas: 6                  # –ú–∞–∫—Å–∏–º—É–º —Ä–µ–ø–ª—ñ–∫
  targetCPUUtilizationPercentage: 70  # –¶—ñ–ª—å–æ–≤–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è CPU
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Django

### –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (settings.py):
- **WhiteNoise** - –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
- **PostgreSQL** - —á–µ—Ä–µ–∑ dj-database-url
- **Gunicorn** - WSGI —Å–µ—Ä–≤–µ—Ä
- **Security headers** - –¥–ª—è –±–µ–∑–ø–µ–∫–∏

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
- `DATABASE_URL` - –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL
- `DJANGO_DEBUG` - —Ä–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è (false –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)
- `DJANGO_SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á
- `ALLOWED_HOSTS` - –¥–æ–∑–≤–æ–ª–µ–Ω—ñ —Ö–æ—Å—Ç–∏

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –∫–ª–∞—Å—Ç–µ—Ä–∞:
```bash
# –°—Ç–∞—Ç—É—Å –ø–æ–¥—ñ–≤
kubectl get pods

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—ñ–≤
kubectl get svc

# –°—Ç–∞—Ç—É—Å HPA
kubectl get hpa

# –õ–æ–≥–∏ –¥–æ–¥–∞—Ç–∫—É
kubectl logs -f <pod-name>
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫:
```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl top pods

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—É–∑–ª—ñ–≤
kubectl top nodes
```

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏:
- **Pod Security Context** - non-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
- **Security Headers** - XSS, CSRF –∑–∞—Ö–∏—Å—Ç
- **Network Policies** - —ñ–∑–æ–ª—è—Ü—ñ—è –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ—ñ–∫—É
- **Secrets** - –¥–ª—è —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö
- **IAM —Ä–æ–ª—ñ** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ –æ–±—Ä–∞–∑–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Scanner –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Network Policies
- –†–æ—Ç—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ñ –∫–ª—é—á—ñ

## üìà –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:
- HPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±—ñ–ª—å—à—É—î/–∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–¥—ñ–≤
- –ë–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ CPU (70%)
- –ú—ñ–Ω: 2 –ø–æ–¥–∏, –ú–∞–∫—Å: 6 –ø–æ–¥—ñ–≤

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:
```bash
# –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
kubectl patch deployment django-app-django-app -p='{"spec":{"template":{"spec":{"containers":[{"name":"django-app","resources":{"limits":{"cpu":"1000m","memory":"1Gi"}}}]}}}}'
```

## üõ†Ô∏è –†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏:

#### –ü—ñ–¥ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:
```bash
kubectl describe pod <pod-name>
kubectl logs <pod-name>
```

#### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ –ë–î:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç—ñ–≤
kubectl get secrets

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
kubectl exec -it <pod-name> -- python manage.py check --database default
```

#### –ü—Ä–æ–±–ª–µ–º–∏ –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–±–æ—Ä—É —Å—Ç–∞—Ç–∏–∫–∏
kubectl exec -it <pod-name> -- python manage.py collectstatic --dry-run
```

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ deployment
kubectl rollout restart deployment django-app-django-app

# –í—ñ–¥–∫–∞—Ç –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó
kubectl rollout undo deployment django-app-django-app

# –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –≤—Ä—É—á–Ω—É
kubectl scale deployment django-app-django-app --replicas=4
```

## üîÑ CI/CD Pipeline

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π workflow:
1. **–†–æ–∑—Ä–æ–±–∫–∞** - –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏
2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏
3. **–ó–±—ñ—Ä–∫–∞** - Docker –æ–±—Ä–∞–∑
4. **–î–µ–ø–ª–æ–π –≤ Staging** - —Ç–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
5. **–î–µ–ø–ª–æ–π –≤ Production** - –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

### GitHub Actions –ø—Ä–∏–∫–ª–∞–¥:
```yaml
name: Deploy to EKS
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v2
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: us-east-1
      - name: Build and push
        run: ./scripts/build-and-push.sh ${{ github.sha }}
      - name: Deploy to EKS
        run: ./scripts/deploy-app.sh
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

### URL –¥–æ–¥–∞—Ç–∫—É:
- **–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞**: –û—Ç—Ä–∏–º–∞—Ç–∏ —á–µ—Ä–µ–∑ `kubectl get svc django-app`
- **–ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å**: `http://LOADBALANCER_URL/admin/`
- **–ö—Ä–µ–¥–µ–Ω—à–∞–ª–∏ –∞–¥–º—ñ–Ω–∞**: —Å—Ç–≤–æ—Ä–µ–Ω—ñ —á–µ—Ä–µ–∑ `kubectl exec -it POD_NAME -- python manage.py createsuperuser`

### –ö–æ–Ω—Ç–∞–∫—Ç–∏:
- **–ê–≤—Ç–æ—Ä**: –ê–Ω—Ç–æ–Ω –ö–æ–ª—å–≤–∞—Ö
- **Email**: [–≤–∞—à-email]
- **–ü—Ä–æ–µ–∫—Ç**: GoIT DevOps Course

### –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:
- [AWS EKS Documentation](https://docs.aws.amazon.com/eks/)
- [Kubernetes Documentation](https://kubernetes.io/docs/)
- [Helm Documentation](https://helm.sh/docs/)
- [Django Documentation](https://docs.djangoproject.com/)
- [Terraform Documentation](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)

---
**–í–µ—Ä—Å—ñ—è**: 1.3  
**–û—Å—Ç–∞–Ω–Ω—è –æ–Ω–æ–≤–∫–∞**: –í–µ—Ä–µ—Å–µ–Ω—å 2025